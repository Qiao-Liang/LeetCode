class Solution(object):
    def queryString(self, S, N):
        """
        :type S: str
        :type N: int
        :rtype: bool
        """
        nums = set([num for num in range(1, N + 1)])
        left = right = 0
        bound = len(S)

        while left < bound:
            if S[left] == "1":
                right = left + 1

                while right <= bound:
                    temp = int(S[left: right], 2)

                    if temp > N:
                        break
                    else:
                        if temp in nums:
                            nums.remove(temp)
                
                    right += 1

            left += 1

        return len(nums) == 0


sol = Solution()
s = '0110'
n = 3
# s = "1111000101"
# n = 5
# s = "0000010001000111101110001111001001011000011111110001010100101000011110100001101011000001110110001101110101010110001111001110001010010001111000001101000100001111011000110111101101011100111101101000100001010010011111101101011001001001100101100110000010101010100100011001101011001000100100001010110010111000001011000101010110010010110001100110011111110011000111000110001110111110101001100011101111000010110100011101001011101000100010100000101011001100100101101100110011000110010000110100001111111001000010010110010011010111000000000110010010000101001000010100011110111001000111000001000000001001110100100000001110000011101010011101001100110000111101000110000110000000011101010101011110100011100100100010"
# n = 35
print(sol.queryString(s, n))
